---
export const partial = true;

import { getCollection } from "astro:content";
const posts = await getCollection("posts");

const json = JSON.stringify(
    posts.map((post) => {
        return {
            category: post.data.category,
            project: post.data.project,
            part: post.data.part,
            title: post.data.title,
            subtitle: post.data.subtitle,
            date: post.data.date,
            url: post.slug,
            excerpt: post.data.excerpt,
            read_time: post.data.read_time,
            tags: post.data.tags
        }
    })
)
---
<Fragment set:html={ json }></Fragment>